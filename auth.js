// Auth - Minified
const loginScreen=document.getElementById('login-screen'),dashboard=document.getElementById('dashboard'),loginForm=document.getElementById('login-form'),loginError=document.getElementById('login-error'),logoutBtn=document.getElementById('logout-btn'),togglePasswordBtn=document.getElementById('toggle-password'),passwordInput=document.getElementById('login-password');function checkAuth(){sessionStorage.getItem(AUTH_CONFIG.SESSION_KEY)==='authenticated'?showDashboard():showLogin()}function showLogin(){loginScreen.style.display='flex';dashboard.style.display='none';if(typeof mqttClient!=='undefined'&&mqttClient&&mqttClient.connected){disconnectMQTT()}}function showDashboard(){loginScreen.style.display='none';dashboard.style.display='block'}function handleLogin(e){e.preventDefault();const username=document.getElementById('login-username').value.trim(),password=document.getElementById('login-password').value;if(username===AUTH_CONFIG.USERNAME&&password===AUTH_CONFIG.PASSWORD){sessionStorage.setItem(AUTH_CONFIG.SESSION_KEY,'authenticated');loginError.textContent='';showDashboard();typeof addLog!=='undefined'&&setTimeout(()=>addLog('âœ… Login successful'),100)}else{loginError.textContent='âŒ Invalid credentials';document.getElementById('login-password').value=''}}function handleLogout(){sessionStorage.removeItem(AUTH_CONFIG.SESSION_KEY);showLogin()}function togglePasswordVisibility(){if(passwordInput.type==='password'){passwordInput.type='text';togglePasswordBtn.textContent='ğŸ™ˆ'}else{passwordInput.type='password';togglePasswordBtn.textContent='ğŸ‘ï¸'}}loginForm.addEventListener('submit',handleLogin);logoutBtn.addEventListener('click',handleLogout);togglePasswordBtn.addEventListener('click',togglePasswordVisibility);checkAuth();
